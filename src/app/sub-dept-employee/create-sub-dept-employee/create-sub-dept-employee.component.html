<div>
  <form [formGroup]="sEmpCrForm" novalidate (ngSubmit)="addSubDeptEmployee()" >
    <h2>Добавление сотрудника</h2>
    <div class="crSubDeptEmpl">
      <div class="crSDELastNameLabel">
        <label for="lastName"><b>Фамилия</b></label>
      </div>
      <div [ngClass]="{'crSDELastNameDefault': sEmpCrForm.controls['lastName'].untouched,
                       'crSDELastNameInvalid': sEmpCrForm.controls['lastName'].invalid
                                            && (sEmpCrForm.controls['lastName'].dirty
                                            || sEmpCrForm.controls['lastName'].touched),
                       'crSDELastNameValid': sEmpCrForm.controls['lastName'].touched
                                            && sEmpCrForm.controls['lastName'].valid }" >
        <input type="text" id="lastName" placeholder="Введите фамилию"
               [(ngModel)]="subDeptEmployee.lastName"  formControlName="lastName" >
        <div class="crSDELastNameErrorMassage">
          <div *ngIf="sEmpCrForm.controls['lastName'].invalid
                && (sEmpCrForm.controls['lastName'].dirty
                || sEmpCrForm.controls['lastName'].touched)" >
            <div *ngIf="sEmpCrForm.controls['lastName'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['lastName'].errors.minlength
                        || sEmpCrForm.controls['lastName'].errors.pattern">
              <p>Некорректная фамилия!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['lastName'].errors.minlength">
              <p>Фамилия слишком короткая!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['lastName'].errors.pattern">
              <p>Фамилия должна содержать только кириллические, или латинские буквы!</p>
            </div>
          </div>
        </div>
      </div>
      <div class="crSDEFirstNameLabel">
        <label for="firstName"><b>Имя</b></label>
      </div>
      <div [ngClass]="{'crSDEFirstNameDefault': sEmpCrForm.controls['firstName'].untouched,
                       'crSDEFirstNameInvalid': sEmpCrForm.controls['firstName'].invalid
                                           && (sEmpCrForm.controls['firstName'].dirty
                                           || sEmpCrForm.controls['firstName'].touched),
                       'crSDEFirstNameValid': sEmpCrForm.controls['firstName'].touched
                                           && sEmpCrForm.controls['firstName'].valid }" >
        <input type="text" id="firstName" placeholder="Введите имя"
               [(ngModel)]="subDeptEmployee.firstName"  formControlName="firstName" >
        <div class="crSDEFirstNameErrorMassage">
          <div *ngIf="sEmpCrForm.controls['firstName'].invalid
              && (sEmpCrForm.controls['firstName'].dirty
              || sEmpCrForm.controls['firstName'].touched)" >
            <div *ngIf="sEmpCrForm.controls['firstName'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['firstName'].errors.minlength
                      || sEmpCrForm.controls['firstName'].errors.pattern">
              <p>Некорректное имя!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['firstName'].errors.minlength">
              <p>Имя слишком короткое!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['firstName'].errors.pattern">
              <p>Имя должно содержать только кириллические, или латинские буквы!</p>
            </div>
          </div>
        </div>
      </div>
      <div class="crSDEMiddleNameLabel">
        <label for="middleName"><b>Отчество</b></label>
      </div>
      <div [ngClass]="{'crSDEMiddleNameDefault': sEmpCrForm.controls['middleName'].untouched,
                       'crSDEMiddleNameInvalid': sEmpCrForm.controls['middleName'].invalid
                                            && (sEmpCrForm.controls['middleName'].dirty
                                            || sEmpCrForm.controls['middleName'].touched),
                       'crSDEMiddleNameValid': sEmpCrForm.controls['middleName'].touched
                                            && sEmpCrForm.controls['middleName'].valid }" >
        <input type="text" id="middleName"
               placeholder="Введите отчество (Если отсутствует введите - )"
               [(ngModel)]="subDeptEmployee.middleName"  formControlName="middleName" >
        <div class="crSDEMiddleNameErrorMassage">
          <div *ngIf="sEmpCrForm.controls['middleName'].invalid
            && (sEmpCrForm.controls['middleName'].dirty
            || sEmpCrForm.controls['middleName'].touched)" >
            <div *ngIf="sEmpCrForm.controls['middleName'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['middleName'].errors.minlength
                    || sEmpCrForm.controls['middleName'].errors.pattern">
              <p>Некорректное отчество!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['middleName'].errors.pattern">
              <p>Отчество должно содержать только кириллические, или латинские буквы, либо дефис!</p>
            </div>
          </div>
        </div>
      </div>

      <div class="crSDEBirthDateLabel">
        <label ><b>Дата рождения</b></label>
      </div>
      <div [ngClass]=" {'crSDEBirthDateDefault': sEmpCrForm.controls['day' && 'month' && 'year'].untouched,
                        'crSDEBirthDateInvalid': ((sEmpCrForm.controls['day' && 'month' && 'year'].invalid
                                              && sEmpCrForm.controls['day' && 'month' && 'year'].touched)
                                              ||(sEmpCrForm.controls['day' && 'month' && 'year'].invalid
                                              && !sEmpCrForm.controls['day' && 'month' && 'year'].touched
                                              && submitted)),
                        'crSDEBirthDateValid': sEmpCrForm.controls['day' && 'month' && 'year'].valid }" >
        <select formControlName="day" >
          <option hidden [ngValue]="null"><p>День</p></option>
          <option *ngFor="let day of days" [value]="day" >
            {{day}}
          </option>
        </select>

        <select formControlName="month"  >
          <option hidden [ngValue]="null"><p>Месяц</p></option>
          <option *ngFor="let month of months" [value]="month.name" >
            {{month.name}}
          </option>
        </select>
        <select  formControlName="year" >
          <option hidden [ngValue]="null">Год</option>
          <option *ngFor="let year of years"  [value]="year">
            {{year}}
          </option>
        </select>
      </div>
      <div class="crSDEBirthDateErrorMassage">
        <div *ngIf="((sEmpCrForm.controls['day' && 'month' && 'year'].invalid
                      && sEmpCrForm.controls['day' && 'month' && 'year'].touched)
                      ||(sEmpCrForm.controls['day' && 'month' && 'year'].invalid
                      && !sEmpCrForm.controls['day' && 'month' && 'year'].touched
                      && submitted))" >
          <div *ngIf="sEmpCrForm.controls['day' && 'month' && 'year'].errors.required">
            <p>Укажите дату!</p>
          </div>
        </div>
      </div>

      <!--
      <div class="birth_date_label">
        <label><b>Дата рождения</b></label>
      </div>
      <div [ngClass]="{'birth_date_default': sEmpCrForm.controls['birthDate'].untouched,
                       'birth_date_invalid': sEmpCrForm.controls['birthDate'].invalid
                                           && (sEmpCrForm.controls['birthDate'].dirty
                                           || sEmpCrForm.controls['birthDate'].touched),
                       'birth_date_valid': sEmpCrForm.controls['birthDate'].touched
                                           && sEmpCrForm.controls['birthDate'].valid }" >
        <input type="text" id="birthDate"
               placeholder="Введите дату рождения (дд/месяц/гггг)"
               [(ngModel)]="subDeptEmployee.birthDate"  formControlName="birthDate" >
        <div class="birth_date_error_massage">
          <div *ngIf="sEmpCrForm.controls['birthDate'].invalid
              && (sEmpCrForm.controls['birthDate'].dirty
              || sEmpCrForm.controls['birthDate'].touched)" >
            <div *ngIf="sEmpCrForm.controls['birthDate'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['birthDate'].errors.pattern">
              <p>Некорректная дата!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['birthDate'].errors.pattern">
              <p>Образец: 01/сентября/1970</p>
            </div>
          </div>
        </div>
      </div>

      -->
      <div class="crSDEPassportLabel">
        <label for="passport"><b>Паспортные данные</b></label>
      </div>
      <div [ngClass]="{'crSDEPassportDefault': sEmpCrForm.controls['passport'].untouched,
                       'crSDEPassportInvalid': sEmpCrForm.controls['passport'].invalid
                                           && (sEmpCrForm.controls['passport'].dirty
                                           || sEmpCrForm.controls['passport'].touched),
                       'crSDEPassportValid': sEmpCrForm.controls['passport'].touched
                                           && sEmpCrForm.controls['passport'].valid }" >
        <input type="text" id="passport"
               placeholder="Введите данные (Серия: .. .. Номер: ......)"
               [(ngModel)]="subDeptEmployee.passport"  formControlName="passport" >
        <div class="crSDEPassportErrorMassage">
          <div *ngIf="sEmpCrForm.controls['passport'].invalid
              && (sEmpCrForm.controls['passport'].dirty
              || sEmpCrForm.controls['passport'].touched)" >
            <div *ngIf="sEmpCrForm.controls['passport'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['passport'].errors.pattern">
              <p>Некорректные паспортные данные!</p>
            </div>
            <div *ngIf="sEmpCrForm.controls['passport'].errors.pattern">
              <p>Образец: Серия: 00 00 Номер: 000000</p>
            </div>
          </div>
        </div>
      </div>
      <div class="crSDESubDeptLabel">
        <label for="sdeSd"><b>Подотдел</b></label>
      </div>
      <div [ngClass]=" {'crSDESubDeptDefault': sEmpCrForm.controls['subDepartment'].untouched,
                        'crSDESubDeptInvalid': ((sEmpCrForm.controls['subDepartment'].invalid
                                              && sEmpCrForm.controls['subDepartment'].touched)
                                              ||(sEmpCrForm.controls['subDepartment'].invalid
                                              && !sEmpCrForm.controls['subDepartment'].touched
                                              && submitted)),
                        'crSDESubDeptValid' : sEmpCrForm.controls['subDepartment'].valid }" >
        <select id="sdeSd" [(ngModel)]="subDeptEmployee.subDepartment" formControlName="subDepartment" >
          <option hidden [ngValue]="null"><p>Выберите Подотдел</p></option>
          <option *ngFor="let subDepartment of subDepartments" >
            {{subDepartment.name}}
          </option>
        </select>
        <div class="crSDESubDeptErrorMassage">
          <div *ngIf="((sEmpCrForm.controls['subDepartment'].invalid
                                            && sEmpCrForm.controls['subDepartment'].touched)
                                            ||(sEmpCrForm.controls['subDepartment'].invalid
                                            && !sEmpCrForm.controls['subDepartment'].touched
                                            && submitted))" >
            <div *ngIf="sEmpCrForm.controls['subDepartment'].errors.required">
              <p>Подотдел не выбран!</p>
            </div>
          </div>
        </div>
      </div>
      <button type="submit" >Добавить</button>
    </div>
  </form>
</div>

