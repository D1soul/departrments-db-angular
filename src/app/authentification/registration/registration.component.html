<div>
  <form [formGroup]="regForm" novalidate (ngSubmit)="addUser()" >
    <h2>Регистрация</h2>
    <div class="register" >
      <div class="regUsernameLabel">
        <label for="username"><b>Логин</b></label>
      </div>
      <div [ngClass]="{'regUsernameDefault': regForm.controls['username'].untouched,
                         'regUsernameInvalid': regForm.controls['username'].invalid
                                            && (regForm.controls['username'].dirty
                                            || regForm.controls['username'].touched),
                         'regUsernameValid': regForm.controls['username'].touched
                                            && regForm.controls['username'].valid }" >
        <input type="text" id="username" placeholder="Введите логин"
               [(ngModel)]="user.username"  formControlName="username" >
        <div class="regUsernameErrorMassage">
          <div *ngIf="regForm.controls['username'].invalid
                && (regForm.controls['username'].dirty
                || regForm.controls['username'].touched)" >
            <div *ngIf="regForm.controls['username'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="regForm.controls['username'].errors.pattern">
              <p>Логин должен содержать только кириллические, или латинские буквы, либо цыфры!</p>
            </div>
          </div>
        </div>
      </div>




      <div class="regPasswordLabel">
        <label for="password"><b>Пароль</b></label>
      </div>
      <div [ngClass]="{'regPasswordDefault': regForm.controls['password'].untouched,
                       'regPasswordInvalid': regForm.controls['password'].invalid
                                           && (regForm.controls['password'].dirty
                                           || regForm.controls['password'].touched),
                       'regPasswordValid': regForm.controls['password'].touched
                                           && regForm.controls['password'].valid }" >
        <input type="text" id="password" placeholder="Введите имя"
               [(ngModel)]="user.password"  formControlName="password" >
        <div class="regPasswordErrorMassage">
          <div *ngIf="regForm.controls['password'].invalid
              && (regForm.controls['password'].dirty
              || regForm.controls['password'].touched)" >
            <div *ngIf="regForm.controls['password'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="regForm.controls['password'].errors.minlength">
              <p>Пароль должен содержать минимум 6 символов!</p>
            </div>
          </div>
        </div>
      </div>


      <div class="regConfirmPasswordLabel">
        <label for="confirmPassword"><b>Пароль</b></label>
      </div>
      <div [ngClass]="{'regConfirmPasswordDefault': regForm.controls['confirmPassword'].untouched,
                       'regConfirmPasswordInvalid': regForm.controls['confirmPassword'].touched ,
                       'regConfirmPasswordValid': regForm.controls['confirmPassword'].touched
                                           && regForm.controls['confirmPassword'].valid }" >
        <input type="text" id="confirmPassword" placeholder="Введите имя"
               [(ngModel)]="user.confirmPassword"  formControlName="confirmPassword" >
        <div class="regConfirmPasswordErrorMassage">
          <div *ngIf="regForm.controls['confirmPassword'].invalid
              && (regForm.controls['confirmPassword'].dirty
              || regForm.controls['confirmPassword'].touched)" >
            <div *ngIf="regForm.controls['confirmPassword'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="regForm.controls['confirmPassword'].errors.notEqual">
              <p>Пароли не совпадают!</p>
            </div>
          </div>
        </div>
      </div>


      <div class="regBirthDateLabel">
        <label ><b>Дата рождения</b></label>
      </div>

      <div ngDefaultControl formControlName="birthDate" class="regBirthDate">
        <select formControlName="days" >
          <option *ngFor="let day of days">
            day: {{day}}
          </option>
        </select>
        <select formControlName="moths" >
          <option *ngFor="let moth of months">
            moth: {{moth.name}}
          </option>
        </select>
        <select  formControlName="years">
          <option *ngFor="let year of years">
            year: {{year}}
          </option>
        </select>

      </div>

    <!--
      <div [ngClass]="{'regBirthDateDefault': regForm.controls['birthDate'].untouched,
                       'regBirthDateInvalid': regForm.controls['birthDate'].invalid
                                           && (regForm.controls['birthDate'].dirty
                                           || regForm.controls['birthDate'].touched),
                       'regBirthDateValid': regForm.controls['birthDate'].touched
                                           && regForm.controls['birthDate'].valid }" >
        <input type="text" id="birthDate"
               placeholder="Введите дату рождения (дд/месяц/гггг)"
               [(ngModel)]="user.birthDate"  formControlName="birthDate" >
        <div class="regBirthDateErrorMassage">
          <div *ngIf="regForm.controls['birthDate'].invalid
              && (regForm.controls['birthDate'].dirty
              || regForm.controls['birthDate'].touched)" >
            <div *ngIf="regForm.controls['birthDate'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="regForm.controls['birthDate'].errors.pattern">
              <p>Некорректная дата!</p>
            </div>
            <div *ngIf="regForm.controls['birthDate'].errors.pattern">
              <p>Образец: 01/сентября/1970</p>
            </div>
          </div>
        </div>
      </div>


      -->



      <div class="regGenderLabel">
          <label for="gender"><b>Пол</b></label>
      </div>
      <div [ngClass]="{'regGenderDefault': regForm.controls['gender'].untouched,
                       'regGenderInvalid': regForm.controls['gender'].invalid
                                           && (regForm.controls['gender'].dirty
                                           || regForm.controls['gender'].touched),
                       'regGenderValid': regForm.controls['gender'].touched
                                           && regForm.controls['gender'].valid }" >
        <input type="text" id="gender"
               placeholder="Введите данные (Серия: .. .. Номер: ......)"
               [(ngModel)]="user.gender"  formControlName="gender" >
        <div class="regGenderErrorMassage">
          <div *ngIf="regForm.controls['gender'].invalid
              && (regForm.controls['gender'].dirty
              || regForm.controls['gender'].touched)" >
            <div *ngIf="regForm.controls['gender'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="regForm.controls['gender'].errors.pattern">
              <p>Некорректные паспортные данные!</p>
            </div>
            <div *ngIf="regForm.controls['gender'].errors.pattern">
              <p>Образец: Серия: 00 00 Номер: 000000</p>
            </div>
          </div>
        </div>
      </div>


      <div class="regRolesLabel">
        <label for="roles"><b>Дата рождения</b></label>
      </div>
      <div [ngClass]="{'regRolesDefault': regForm.controls['roles'].untouched,
                       'regRolesInvalid': regForm.controls['roles'].invalid
                                           && (regForm.controls['roles'].dirty
                                           || regForm.controls['roles'].touched),
                       'regRolesValid': regForm.controls['roles'].touched
                                           && regForm.controls['roles'].valid }" >
        <input type="text" id="roles"
               placeholder="Введите дату рождения (дд/месяц/гггг)"
               [(ngModel)]="user.roles"  formControlName="roles" >
        <div class="regRolesErrorMassage">
          <div *ngIf="regForm.controls['roles'].invalid
              && (regForm.controls['roles'].dirty
              || regForm.controls['roles'].touched)" >
            <div *ngIf="regForm.controls['roles'].errors.required">
              <p>Поле не должно быть пустым!</p>
            </div>
            <div *ngIf="regForm.controls['roles'].errors.pattern">
              <p>Некорректная дата!</p>
            </div>
            <div *ngIf="regForm.controls['roles'].errors.pattern">
              <p>Образец: 01/сентября/1970</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
